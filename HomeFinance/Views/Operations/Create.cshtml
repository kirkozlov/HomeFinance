@model HomeFinance.ViewModels.AddEditOperationViewModel

@{
    ViewData["Title"] = "Create";
}

<h1>Create</h1>

<h4>Operation</h4>
<hr />
<div class="row">
    <div >
  <ul class="nav nav-tabs" id="myTab" role="tablist">
  <li class="nav-item" role="presentation">
    <button class="nav-link active" id="income-tab" data-bs-toggle="tab" data-bs-target="#income" type="button" role="tab" aria-controls="income" aria-selected="true">Income</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="outgo-tab" data-bs-toggle="tab" data-bs-target="#outgo" type="button" role="tab" aria-controls="outgo" aria-selected="false">Outgo</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="transfer-tab" data-bs-toggle="tab" data-bs-target="#transfer" type="button" role="tab" aria-controls="transfer" aria-selected="false">Transfer</button>
  </li>
  </ul>
    <div class="tab-content" id="myTabContent">
      <div class="tab-pane fade show active" id="income" role="tabpanel" aria-labelledby="income-tab">
          <form asp-action="Create" enctype="multipart/form-data" >
               <div asp-validation-summary="All" class="text-danger"></div>
               <input type="hidden" asp-for="Operation.Outgo" value=false />
               <input type="hidden" asp-for="Operation.NavigateToWallet" />
               <div class="form-group">
                    <label asp-for="Operation.WalletId" class="control-label"></label>
                    <select class="form-select" asp-for="Operation.WalletId" >          
                            <option value="@null">---</option>
                        @foreach(var possibleWallet in Model.PossibleWallets)
                        {
                            <option value="@possibleWallet.Id">@possibleWallet.Name</option>   
                        }
                    </select>
                </div>
                <div class="form-group">
                    <label asp-for="Operation.CategoryId" class="control-label"></label>
                    <select class="form-select" asp-for="Operation.CategoryId">          
                            <option value="@null">---</option>
                        @foreach(var possibleCategory in Model.IncomeCategories)
                        {
                            <option value="@possibleCategory.Id">@possibleCategory.Name</option>   
                        }
                    </select>
                </div>
                <div class="form-group">
                    <label asp-for="Operation.DateTime" class="control-label"></label>
                    <input asp-for="Operation.DateTime" class="form-control" type="datetime"/>
                    <span asp-validation-for="Operation.DateTime" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="Operation.Amount" class="control-label"></label>
                    <input asp-for="Operation.Amount" class="form-control" type="number"/>
                    <span asp-validation-for="Operation.Amount" class="text-danger" ></span>
                </div>
                <div class="form-group">
                    <label asp-for="Operation.Comment" class="control-label"></label>
                    <input asp-for="Operation.Comment" class="form-control" />
                    <span asp-validation-for="Operation.Comment" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <input type="submit" value="Save" class="btn btn-primary" />
                </div>
            </form>
      </div>
      <div class="tab-pane fade" id="outgo" role="tabpanel" aria-labelledby="outgo-tab">
          <form asp-action="Create">
               <div asp-validation-summary="All" class="text-danger"></div>
               <input type="hidden" asp-for="Operation.Outgo" value="true"  />
               <input type="hidden" asp-for="Operation.NavigateToWallet" />
               <div class="form-group">
                    <label asp-for="Operation.WalletId" class="control-label"></label>
                    <select class="form-select" asp-for="Operation.WalletId">          
                            <option value="@null">---</option>
                        @foreach(var possibleWallet in Model.PossibleWallets)
                        {
                            <option value="@possibleWallet.Id">@possibleWallet.Name</option>   
                        }
                    </select>
                </div>
                <div class="form-group">
                    <label asp-for="Operation.CategoryId" class="control-label"></label>
                    <select class="form-select" asp-for="Operation.CategoryId">          
                            <option value="@null">---</option>
                        @foreach(var possibleCategory in Model.OutgoCategories)
                        {
                            <option value="@possibleCategory.Id">@possibleCategory.Name</option>   
                        }
                    </select>
                </div>
                <div class="form-group">
                    <label asp-for="Operation.DateTime" class="control-label"></label>
                    <input asp-for="Operation.DateTime" class="form-control" type="datetime"/>
                    <span asp-validation-for="Operation.DateTime" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="Operation.Amount" class="control-label"></label>
                    <input asp-for="Operation.Amount" class="form-control" type="number"/>
                    <span asp-validation-for="Operation.Amount" class="text-danger" ></span>
                </div>
                <div class="form-group">
                    <label asp-for="Operation.Comment" class="control-label"></label>
                    <input asp-for="Operation.Comment" class="form-control" />
                    <span asp-validation-for="Operation.Comment" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <input type="submit" value="Save" class="btn btn-primary" />
                </div>
            </form>
      </div>
      <div class="tab-pane fade" id="transfer" role="tabpanel" aria-labelledby="transfer-tab">
          <form asp-action="CreateTransfer">
               <div asp-validation-summary="All" class="text-danger"></div>
               <input type="hidden" asp-for="Transfer.NavigateToWallet" />
               <div class="form-group">
                    <label asp-for="Transfer.WalletIdFrom" class="control-label"></label>
                    <select class="form-select" asp-for="Transfer.WalletIdFrom">          
                            <option value="@null">---</option>
                        @foreach(var possibleWallet in Model.PossibleWallets)
                        {
                            <option value="@possibleWallet.Id">@possibleWallet.Name</option>   
                        }
                    </select>
                </div>
                <div class="form-group">
                    <label asp-for="Transfer.WalletIdTo" class="control-label"></label>
                    <select class="form-select" asp-for="Transfer.WalletIdTo">          
                            <option value="@null">---</option>
                        @foreach(var possibleWallet in Model.PossibleWallets)
                        {
                            <option value="@possibleWallet.Id">@possibleWallet.Name</option>   
                        }
                    </select>
                </div>
                <div class="form-group">
                    <label asp-for="Transfer.DateTime" class="control-label"></label>
                    <input asp-for="Transfer.DateTime" class="form-control" type="datetime"/>
                    <span asp-validation-for="Transfer.DateTime" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="Transfer.Amount" class="control-label"></label>
                    <input asp-for="Transfer.Amount" class="form-control" type="number"/>
                    <span asp-validation-for="Transfer.Amount" class="text-danger" ></span>
                </div>
                <div class="form-group">
                    <label asp-for="Transfer.Comment" class="control-label"></label>
                    <input asp-for="Transfer.Comment" class="form-control" />
                    <span asp-validation-for="Transfer.Comment" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <input type="submit" value="Save" class="btn btn-primary" />
                </div>
            </form>
      </div>
    </div>
</div>
</div>

<div>
    <a asp-action="Index">Back to List</a>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
